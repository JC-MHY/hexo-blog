"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};!function(n,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.export?module.exports=e:n.zoom=e}(window,function(n){function e(n,e){var t=null;return function(){clearTimeout(t),t=setTimeout(n,e)}}function t(n){var e=(n=n||window.event).target||n.srcElement;"img"===e.nodeName.toLowerCase()&&0<=e.index&&(I=T(B,"index",e.index)[0],K())}function o(n){S||(37===n.keyCode&&Y(),39===n.keyCode&&_(),27===n.keyCode&&Z())}function i(n){n.stopPropagation()}function r(n){n.target.classList.contains("zoom-box")&&(Q=!0,d.removeEventListener("transitionend",r),S&&(I=null,s.style.display="none",document.body.style.overflow="initial"))}function a(n){return n+"px"}function l(){var n=B[I],e=n.src;if(!e&&n.getAttribute(k)){e=n.getAttribute(k);var t=T(N,"index",n.index);U(n,t)}d.querySelector(".zoom-loading")&&d.querySelector(".zoom-loading").remove(),d.querySelector(".zoom-error")&&d.querySelector(".zoom-error").remove(),d.querySelector(".zoom-img")&&d.querySelector(".zoom-img").remove(),d.appendChild(c);var o=document.createElement("img");o.className="zoom-img",o.src=e,o.onload=function(){c.remove(),d.appendChild(o),X(H())},o.onerror=function(){c.remove(),d.appendChild(m)},0==I?d.querySelector("#prev-btn")&&u.remove():d.querySelector("#prev-btn")||d.appendChild(u),I>=B.length-1?d.querySelector("#next-btn")&&p.remove():d.querySelector("#next-btn")||d.appendChild(p)}var s,d,c,m,u,p,A,g,f,v,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},y=h.zIndex||999,w=0<=h.margin?h.margin:10,b=0<=h.padding?h.padding:10,x=0<=h.radius?h.radius:4,z=h.specify||null,C=h.filter||null,E=h.lazyLoad||!1,k=h.original||"data-original",L=.4,I=null,Q=!0,S=!0,V=window.innerWidth,q=window.innerHeight,B=[],N=[],F=e(function(){if(N.length<1)return window.removeEventListener("scroll",F);for(var n=N.length;n--;)M(N[n])&&U(N[n],n)},400),R=e(function(){V=window.innerWidth,q=window.innerHeight,f=V-2*w-2*b,v=q-2*w-2*b,I&&X(H())},800),j=function(){var n="\n      .zoom-mask {\n        display: none;\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: "+y+";\n        transition: all "+L+"s ease;\n        -o-transition: all "+L+"s ease;\n        -ms-transition: all "+L+"s ease;\n        -moz-transition: all "+L+"s ease;\n        -webkit-transition: all "+L+"s ease;\n        transform: translate3d(0,0,0);\n        -o-transform: translate3d(0,0,0);\n        -moz-transform: translate3d(0,0,0);\n        -webkit-transform: translate3d(0,0,0);\n      }\n      .zoom-box {\n        position: fixed;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: "+b+"px;\n        background-color: #FFF;\n        border-radius: "+x+"px;\n        overflow: hidden;\n        box-sizing: content-box;\n        transition: all "+L+"s ease;\n        -o-transition: all "+L+"s ease;\n        -ms-transition: all "+L+"s ease;\n        -moz-transition: all "+L+"s ease;\n        -webkit-transition: all "+L+"s ease;\n        transform: translate3d(0,0,0);\n        -o-transform: translate3d(0,0,0);\n        -moz-transform: translate3d(0,0,0);\n        -webkit-transform: translate3d(0,0,0);\n      }\n      .zoom-box:hover .zoom-btn {\n        opacity: 1;\n      }\n      .zoom-img {\n        display: block;\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        transform: translate3d(0,0,0);\n        -o-transform: translate3d(0,0,0);\n        -moz-transform: translate3d(0,0,0);\n        -webkit-transform: translate3d(0,0,0);\n      }\n      .zoom-btn {\n        position: absolute;\n        opacity: 0;\n        width: 30px;\n        height: 30px;\n        top: 0;\n        bottom: 0;\n        margin: auto;\n        cursor: pointer;\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 50%;\n        box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.3);\n        transition: opacity 0.3s ease;\n      }\n      .zoom-btn.prev { left: 20px; }\n      .zoom-btn.next { right: 20px; }\n    ";(A=document.createElement("style")).type="text/css",A.innerHTML=n,document.head.appendChild(A)},U=function(n,e,t){t&&(n.onload=t),n.src=n.getAttribute(k),N.splice(e,1)},T=function(n,t,o){var i=[];return n.forEach(function(n,e){n[t]==o&&i.push(e)}),i},D=function(n){var e=null;return z&&(e=z.split("="))?1<e.length?n.getAttribute(e[0])===e[1]:null!==n.getAttribute(e[0]):!C||!(e=C.split("="))||(1<e.length?n.getAttribute(e[0])!==e[1]:null===n.getAttribute(e[0]))},M=function(n){var e=n.getBoundingClientRect();return e.top<=q&&0<=e.top||0<=e.bottom&&e.bottom<=q},H=function(){var n=B[I],e=n.naturalWidth,t=n.naturalHeight,o=void 0,i=void 0;if(f<e||v<t){var r=(f/v).toFixed(2),a=(e/t).toFixed(2);if(a<r)o=(e*(l=(v/t).toFixed(2))).toFixed(2),i=(t*l).toFixed(2);else if(r<a){var l;o=(e*(l=(f/e).toFixed(2))).toFixed(2),i=(t*l).toFixed(2)}else o=e,i=t}else o=e,i=t;return{x:(V-o)/2-b,y:(q-i)/2-b,w:o,h:i}},K=function(){var n,e,t,o;Q=S=!1,document.body.style.overflow="hidden",P((n=B[I],e=n.getBoundingClientRect(),t=n.width,o=n.height,{x:e.left-b,y:e.top-b,w:t,h:o}))},Z=function(){if(!Q)return console.log("阻止关闭");var n,e,t,o;Q=!(S=!0),X((n=B[I],e=n.getBoundingClientRect(),t=n.width,o=n.height,{x:e.left-b,y:e.top-b,w:t,h:o}))},J=function(n){var e=document.createElement("img");return e.src="data:image/png;base64,"+("next"===n?"iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEE0lEQVRoQ9WajVEUQRCFuyNQIxAjUCJQIhAjECIQI1AiUCIQIhAiECIQIhAjECJo67uaueqdm9md2Zu7K7rqCup2due9/p/eU3nior3xm9lbEdkLH//4WxF5UNWbnnuuTcDM3ojIRxF5JyL8XyPXInIpIleqel9zQ2nNbAJmBuivGU234oHMqaryt1maCZjZoYh8GwGOizyICC7jBQs9F5HXBZSs/9xKpJqAmbH5z+AqHsNjcIfzms3DcyBzJCLvM2S+B4ughEmpIhD8/FfQYHzoXxFhM4BXbZaiCWRORITPM3cdaxyramrFFUKTBMwMTf1I7jwF/FzgGSJkLZThLYJSDqZIjBLIgMddDmtcZdL2mQVhP4hEa0ySKBIIbvPb7XOH//fSeolg2JeM5Em8Ku2bJRB884/z+a2Aj6QyJG5VdT9HukSAgCVTILjN3qY1n4kLiqL3AGoFdWcgKwRCniddRiGQZhWZOXHg7zEzshM1JwquNKjcOQK4DlkBOVNVHlItYdN/qnpRfdPIQjNDefRXyLWqHvjlAwJJ1ml2nURj1IfjdUlkksnACikBr/2sz40ByqTdXiTOQ8PI9heqSm1ayJJAwrRZ+/GBZuY34+u1SSTYqA3LtOoJUEA+BSADlq1usCESBO/LgOWDqtKODyxAyor9/HJBK/gRS7Ah/c3cvokU+iVNLt4C5sC+mLuRJ5yxBM0ZabmZhJlRl6hPyLKwLQgkF+9UtfZkNWmgziSWSlbVBfZIwHecHPM4tHSTXiTMzMfBPp1qJOD9qzl91jDtQSIpaosOYWsEgqumKZYjJNmvSnZKIHS4BKGPr6ZstzMCBfCkVCxSLWMECNrYgXYN4l7ggwv6VmcQxNkcW62awsKe4AOBfBpNL4rI2oVsA+C9kpe1yldiqmQcOjUFV2qA3uCDgidbiS7N3CbAZ/w/28z5M+igZa2NhQ2C99geVZUp4ULSA40v1c0VOXOGbU6VOWUlVTx/oAlm8j1RsxWSgUAv8Ol0onykDCS8FeYc6heVdmok2OCWfsRzo6px3LPqQoGAL2p89bTGKoGEH2U0u1KtdsfWZaYRdYOtQIAox5XifHL2SWoOmcw4f8V1slnIb5bRwFZIZMCPTkhax+u4E0VkI6PGMFdilBjzPOCZiBdfdMx9wdH0GmjKjcyMUSbA/VF2EvxKISttlBl3s5QYgQiFpXnK4GKNWRTz12V1FRHG+Uc1qXjSApFUaBOY7cRBa7wEeL6/VNWrCm0DlGdQNHPDgzNe39YqpZqAI8KmaD5OyVLM+CvWKb1mLY1s0PpJa3w1E3BE0CAtbonIlDHidd4ro/FZiWE2AUcEjUKGEl96iZ2SAXR0u9381GAk4CFS+rHHfU1g1pquOgu1PHDba/8Dd5pFTyZ20jIAAAAASUVORK5CYII=":"iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEDElEQVRoQ9WajVEVMRDHdytQKxArUCpQKhArECoQK1AqUCoQKxAqECoQKhA6wArW+b1JbvbykndJ3t1Tdobh490l+9/970c2qDxy0bn1N7PXIrIXvvzyNyLyoKrXc+65NQAzeyUi70XkjYjwc41ciciFiFyq6l3NC6VnugGYGUp/zli6VR/AnKoq35ulGYCZHYrIlw2KQ5EHEYEyXvDQUxF5WdCS5z+2AqkGYGZs/iNQxevwJ9DhvGbzsA5gjkTkbQbM1+ARjDApVQACz38GC8ZF70WEzVC8arNUmwDmRET4euI+xxvHqpp6cQ3QJAAzw1LfkjdPUb5X8QwQshbG8B7BKAdTIDYCyCgPXQ5rqDLp+8wDYT+ARG9MgigCCLT55fa5hf9zWb0EMOxLRvIgXpT2zQII3PztOL8T5SOoDIgbVd3PgS4BIGDJFAi02Vva8pm4oCh6BlArqDsjWQMQ8jzpMgqB1FVkeuLAv2NmZCdqThSoNKrcOQBQh6yAnKkqi2wlgZJU7ntVpYWoFjPDePRXyJWqHviXRwCSrDMLdYLyUDL2SftTqTHxQkqlkRdSAN76Wc5Vm05EMsrzehMAXjCz89Aw8ut3VaU2rWQAkKTNra1fUJ7qijJNkuhGbRjSqgdAAfkQVh6hbNqtbPku5ePeZkbwPg+/v4ux5AGQsiJPhwf+B+UDjUihn4I+Q3LxAMwp+6wn789Jm9RwZkZdIhkgQ2FbAUg+vFXV2pPVsM+SyjsaDUZW1ZXuEYDvODnmcWipll0oHwzt42CVzSIAz6+m9Lkr5QMAX9RWHcIcANJyv1W22eT2pCovBoAT2nE1/xoeXAoAZ2Vc6w/ri4DYBICgjR1obxAvDsLMfKszCuJsjm3wbux7FgVhZvk0GiJ8rkK2CIhSrfKVmBFG5PG2rcTsIMxsspWYu5mbFUTC/2wz5w8Oo5a1JRZc2Z8tO6Wtvqqy9krSA40v1U0VOQcyVOnUE8scaEIg+55oay+ENVNPNAHIzKfKR8pMwzTnoR7j3HUc6v2I51pV47hnnUIBgC9q/OlxjVUyXd8sVGpNBBnq1A22HG8J6DifpEbgia4xeqfyfpy/Rp1sFvIbZSywExCZu4iNE5LW8ToeoIgsMmoMgzVGiTHPozwT8eJFR+8FR9M10BSFzIxRJor7o+yk8muFrLRRZtzNo8QIQJghdcVGKHTMojjVDdVVRBjnH9WMICc9kLQGDGbjoDV+hPL8/UJVLyusjaKsQV3IDQ/OuL6tNUo1AAeETbF8nJKlOsNXvFO6Zi2NbLD6SWt8NQNwQLAgLW4JyJQz4ufcK2PxrsTQDcABwaKAocSXLrFTMCgdafdv/tVgQ8ADpPTPHvRCk3e/ta6rzkItC+762b91gEFPa2jwZQAAAABJRU5ErkJggg=="),e.id="next"===n?"next-btn":"prev-btn",e.className="zoom-btn "+n,e.addEventListener("click","next"===n?_:Y),e},W=function(){(s=document.createElement("div")).className="zoom-mask",s.addEventListener("click",Z),(d=document.createElement("div")).className="zoom-box",d.addEventListener("click",i),s.appendChild(d),document.body.appendChild(s)},G=function(){var n=document.createElement("div");n.className="zoom-loading",n.innerHTML='\n      <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">\n        <path\n          opacity="0.2"\n          fill="#000"\n          d=" M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\n              s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\n              c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z">\n        </path>\n        <path\n          fill="#000"\n          d=" M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\n              C22.32,8.481,24.301,9.057,26.013,10.047z"\n          transform="rotate(134.48 20 20)">\n          <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatCount="indefinite"></animateTransform>\n        </path>\n      </svg>\n    ',c=n},O=function(){var n=document.createElement("div");n.className="zoom-error",n.innerHTML='\n      <svg t="1576724924240" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3128" width="48" height="48">\n        <path\n          d="M891.552 164.096l-317.76 0.032-29.248 64.352 347.04-0.032a8.96 8.96 0 0 1 8.96 8.96v549.184a8.96 8.96 \n            0 0 1-8.96 8.96h-342.4l-29.248 64.352h371.648a73.408 73.408 0 0 0 \n            73.344-73.344V237.376a73.44 73.44 0 0 0-73.344-73.344zM432.544 \n            795.552H132.448a8.96 8.96 0 0 1-8.96-8.96V237.408a8.96 8.96 0 0 1 \n            8.96-8.96l316.704-0.032 29.248-64.352-345.984 0.032A73.44 73.44 0 0 0 \n            59.072 237.44v549.184a73.408 73.408 0 0 0 73.344 73.344l330.432-0.064 \n            29.248-64.352-59.584 0.064z m-6.976-185.376l-75.936-80.768-145.024 \n            161.76h327.04l42.912-103.872-63.168-103.872-85.824 126.752z m-9.248-240.544a88.032 \n            88.032 0 1 0-176.096 0 88.032 88.032 0 0 0 176.096 0z m158.24 321.536h265.408l-219.2-364-68.896 \n            95.936 91.104 141.504-68.448 126.528z" p-id="3129" data-spm-anchor-id="a313x.7781069.0.i0"\n        ></path>\n      </svg>',m=n},P=function(n){var e=n.x,t=n.y,o=n.w,i=n.h;s.style.display="block",d.style.top=a(t),d.style.left=a(e),d.style.width=a(o),d.style.height=a(i),setTimeout(function(){X({x:V/4,y:q/4,w:V/2,h:q/2}),setTimeout(l,0)},0)},X=function(n){var e=n.x,t=n.y,o=n.w,i=n.h;d.addEventListener("transitionend",r),s.style.backgroundColor=S?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.8)",d.style.top=a(t),d.style.left=a(e),d.style.width=a(o),d.style.height=a(i)},Y=function(){0!=I&&(I--,l())},_=function(){I>=B.length-1||(I++,l())};return n&&"string"==typeof n&&((g=document.querySelector(n)).addEventListener("click",t),u=J("prev"),p=J("next"),W(),G(),O(),j(),Array.from(g.getElementsByTagName("img")).forEach(function(n,e){D(n)&&(n.index=e,B.push(n),E&&n.getAttribute(k)&&N.push(n))}),window.addEventListener("resize",R),window.addEventListener("keyup",o),R(),E&&0<N.length&&(window.addEventListener("scroll",F),F())),{destroy:function(){s.removeEventListener("click",Z),d.removeEventListener("click",i),g.removeEventListener("click",t),window.removeEventListener("resize",R),window.removeEventListener("keyup",o),E&&0<N.length&&window.removeEventListener("scroll",F),A.remove(),s.remove()}}});